<!DOCTYPE html>
<html>
    <head>
        <title>Media Station X for TorrServer</title>
        <meta charset="UTF-8" />
        <meta name="author" content="damiva" />
        <meta name="copyright" content="damiva" />
        <link type="image/png" rel="shortcut icon" href="https://msx.benzac.de/img/icon.png" /> 
        <link type="image/png" rel="apple-touch-icon" href="https://msx.benzac.de/img/icon.png" />
        <style>
            html, body {height: 100%; margin: 0; padding: 0; overflow: hidden;}
            body {font-family: Arial, Helvetica, sans-serif; display: grid; grid-template: max-content / max-content auto min-content;}
            header, footer {background-color: steelblue; color: white;}
            header {font-weight: bold; text-align: center; background: url(https://msx.benzac.de/img/icon.png) no-repeat contain;}
        </style>
        <script src="https://damiva.github.io/msx/assets.js"></script>
        <script>
            var S = null;
            function ts(f, u, d){
                var x = new XMLHttpRequest();
                x.responseType = "json"
                x.onload = f;
                x.onerror = function(){alert(x.status + " " + x.statusText)};
                x.open(d ? "POST" : "GET", "/msx" + u);
                if(d) x.overrideMimeType = "application/json; charset=UTF-8";
                s.send(d);
            }
            function inf(){

            }
            function lang(l){
                if(l.value == "en"){
                    l.value = "ru";
                    l.innerHTML = "üá∑üá∫";
                }else{
                    l.value = "en";
                    l.innerHTML = "üá∫üá∏";
                }
                document.querySelectorAll("[lang]").forEach(e => e.hidden = e.lang != l.value);
            }
            function show(){
                var h = window.location.hash.substring(1);
                if(h == "msx") ts(function(){
                    window.location.href = window.location.protocol + "//msx.benzac.de/?start=" + encodeURIComponent(
                        this.response.parameter
                        .replace("{PREFIX}", window.location.protocol + "//")
                        .replace("{SERVER}", window.location.host)
                    );
                }, "/start.json");
                else if(document.querySelectorAll("main > *").filter(e => !(e.hidden = e.id != h)).length == 0) 
                    document.getElementById("man").hidden = false;
            }
            window.onhashchange = show;
            window.onload = function(){
                var s = 0;
                S = document.getElementById("src");
                for(var i = 0; i < S.options.length; i++) if(window.location.hash == S.options[i].value){
                    s = i;
                    break;
                }
                S.options.selectedIndex = s;
                show();
            };
        </script>
    </head>
    <body>
        <header>
            <img src="/logo.png" style="height:1em">
            Media Station X <span lang="en">for</span><span lang="ru">–¥–ª—è</span> TorrServer
            <button style="float: right;" onclick="lang(this)" value="ru">üá∑üá∫</button>
        </header>
        <main>
            <b lang="en">TV-set instalation</b><b lang="ru">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä</b>:
            <ol>
                <li>
                    <span lang="en">On yuor TVset install and launch the</span>
                    <span lang="ru">–ù–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span>
                    <b>Media Station X</b> <span lang="en">application</span>
                </li>
                <li>
                    <span lang="en">Navigate to</span><span lang="ru">–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫</span>:
                    <b>Settings ‚áí Start Parameter ‚áí Setup</b>
                </li>
                <li>
                    <span lang="en">Enter the address of</span><span lang="ru">–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å</span>
                    TorrServer: <b id="host">?</b>
                </li>
                <li>
                    <span lang="en">Press</span><span lang="ru">–ù–∞–∂–º–∏—Ç–µ</span>
                    <b>Yes</b> <span lang="en">on</span><span lang="ru">–≤</span>
                    <b>Complete the setup</b>
                </li>
                <li>
                    <span lang="en">Enjoy your content</span><span lang="ru">–ù–∞—Å–ª–æ–∂–¥–∞–π—Ç–µ—Å—å –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º</span>
                </li>
            </ol>
            <b lang="ru">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</b><b lang="ru">Functionality settings</b>:
            <ul>
                <li>
                    <span lang="en">To enable "Search torrents", "Turn on torrents search by RuTor" in the "TorrServer settings</span>
                    <span lang="ru"> –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å "<b>–ü–æ–∏—Å–∫ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤</b>", –≤–∫–ª—é—á–∏—Ç–µ "<b>–í–∫–ª—é—á–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ RuTor</b>" –≤ "<b>–ü–†–û-—Ä–µ–∂–∏–º</b>–µ" –≤ <b>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö</b>"</span>
                    <a href="/">TorrServer</a>
                </li>
                <li>
                    <span lang="en">Change Media Station X language select the translation:</span>
                    <span lang="ru">–î–ª—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞ Media Station X, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥:</span>
                    <select id="dic"></select>
                </li>
                <li>
                    <span lang="en">To set the backgound upload the jpg file:</span>
                    <span lang="en">–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–æ–µ–≤, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª jpg:</span>
                    <input id="back" type="file">
                </li>
                <li>
                    <span lang="en">To play local media files on the server set the folder:</span>
                    <span lang="en">–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–¥–∞–π—Ç–µ –ø–∞–ø–∫—É:</span>
                    <input id="media">
                </li>
            </ul>
        </main>
        <footer>¬© damiva 2024</footer>
    </body>
</html>